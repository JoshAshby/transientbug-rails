@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

@tailwind base;
@tailwind components;
@tailwind utilities;
// @tailwind screens;

$navbar-sm-height: 7.5rem;
$navbar-md-height: 3.5rem;

body.admin {
  @apply font-sans leading-normal tracking-normal;

  margin-top: $navbar-sm-height;

  @screen md {
    margin-top: $navbar-md-height;
  }
}

@mixin navbar-item {
  @apply flex justify-center items-center text-white;

  @screen md {
    @apply justify-start;
  }

  ul,
  ol {
    @apply flex justify-between flex-1 items-center;

    @screen md {
      @apply flex-none;
    }

    li {
      @apply flex justify-center flex-1;

      @screen md {
        @apply flex-none mr-3;
      }

      a {
        @apply inline-block no-underline py-2 px-4 text-gray-600;

        &:hover {
          @apply text-gray-200 underline;
        }

        &.active {
          @apply text-white;
        }
      }
    }
  }

  .search {
    @apply relative w-full;

    input[type~="search"] {
      @apply w-full bg-red-800 text-sm text-white border border-transparent rounded py-1 px-2 pl-10 appearance-none leading-normal shadow-inner;

      &:focus {
        @apply outline-none border-gray-300;
      }
    }

    .search-icon {
      position: absolute;

      top: 0.5rem;
      left: 0.8rem;
    }
  }
}

.navbar {
  @apply bg-red-600 pt-2 pb-1 px-1 mt-0 fixed w-full z-20 top-0;

  height: $navbar-sm-height;

  display: grid;

  grid-template-columns: 1fr 1fr 1fr;
  grid-template-rows: auto;

  grid-template-areas:
    "left center center"
    "right right right";

  @screen md {
    @apply pt-1;

    height: $navbar-md-height;

    grid-template-areas: "left center right";
  }

  .navbar-left {
    grid-area: left;

    @include navbar-item();
  }

  .navbar-center {
    grid-area: center;

    @include navbar-item();

    @apply px-2;
  }

  .navbar-right {
    grid-area: right;

    @include navbar-item();
    @apply pt-2;

    @screen md {
      @apply justify-end;
    }
  }
}

.navbar-logo {
  @apply text-xl pl-2 font-bold;

  display: contents;

  img {
    display: inline;
    height: 2.5rem;
  }
}

.dropdown {
  @apply relative inline-block;

  .trigger {
    @apply text-white;

    &:focus {
      @apply outline-none;
    }
  }

  .dropdown-menu {
    @apply absolute bg-white right-0 mt-6 rounded overflow-auto z-30 w-48 shadow;

    @screen md {
      @apply mt-4;
    }

    .dropdown-item {
      @apply p-2 text-red-800 text-sm no-underline block;

      &:hover {
        @apply text-white bg-red-800 no-underline;
      }
    }

    .divider {
      @apply border border-red-800 m-2;
    }
  }
}

.content-and-sidebar {
  @apply flex flex-col;

  @screen md {
    @apply flex-row;
  }
}

.content {
  @apply flex-1 pb-24;

  @screen md {
    @apply pb-5;
  }

  header {
    @apply flex items-center border-b border-gray-200 p-2 text-xl text-black;

    height: 3.5rem;

    h3 {
      @apply font-bold pl-2;
    }
  }

  main {
    @apply p-4 flex flex-wrap;
  }
}

aside.sidebar {
  @apply bg-red-600 shadow-md fixed bottom-0 z-10 w-full;

  @screen md {
    @apply relative h-screen w-64;
  }

  & > nav {
    @apply flex flex-row py-0 px-0;

    @screen md {
      @apply fixed w-64 flex-col;
    }

    & > * {
      @apply flex flex-1 justify-center p-4 text-white font-bold;

      @screen md {
        @apply block justify-start;
      }

      &.active {
        @apply text-white bg-red-700 border-red-900 border-t-4 shadow-inner;

        @screen md {
          @apply border-t-0 border-l-4;
        }
      }

      &:hover {
        @apply bg-red-700 shadow-inner;
      }
    }
  }
}
