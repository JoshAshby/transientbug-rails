@import "tailwindcss/base";

@import "tailwindcss/components";

@import "tailwindcss/utilities";

/**
 * This injects Tailwind's base styles and any base styles registered by
 * plugins.
 */
@tailwind base;

/**
 * This injects Tailwind's component classes and any component classes
 * registered by plugins.
 */
@tailwind components;

/**
 * This injects Tailwind's utility classes and any utility classes registered
 * by plugins.
 */
@tailwind utilities;

/**
 * Use this directive to control where Tailwind injects the responsive
 * variations of each utility.
 *
 * If omitted, Tailwind will append these classes to the very end of
 * your stylesheet by default.
 */
// @tailwind screens;

$navbar-sm-height: 7.5rem;
$navbar-md-height: 3.5rem;

body.admin {
  @apply font-sans leading-normal tracking-normal;

  margin-top: $navbar-sm-height;

  @screen md {
    margin-top: $navbar-md-height;
  }
}

.navbar {
  @apply bg-red-600 pt-2 pb-1 px-1 mt-0 fixed w-full z-20 top-0;

  height: $navbar-sm-height;

  display: grid;

  grid-template-columns: 1fr 1fr 1fr;
  grid-template-rows: auto;

  grid-template-areas:
    "left center center"
    "right right right";

  @screen md {
    @apply pt-1;

    height: $navbar-md-height;

    grid-template-areas: "left center right";
  }

  @mixin navbar-item {
    @apply flex justify-center items-center text-white;

    @screen md {
      @apply justify-start;
    }
  }

  .navbar-left {
    grid-area: left;

    @include navbar-item();
  }

  .navbar-center {
    grid-area: center;

    @include navbar-item();

    @apply px-2;
  }

  .navbar-right {
    grid-area: right;

    @include navbar-item();
    @apply pt-2;

    @screen md {
      @apply justify-end;
    }
  }
}

.navbar-logo {
  @apply text-xl pl-2 font-bold;

  display: contents;

  img {
    display: inline;
    height: 2.5rem;
  }
}

.navbar-search {
  @apply relative w-full;

  .navbar-search-input {
    @apply w-full bg-red-800 text-sm text-white border border-transparent rounded py-1 px-2 pl-10 appearance-none leading-normal;

    &:focus {
      @apply outline-none border-gray-300;
    }
  }

  .navbar-search-icon {
    position: absolute;

    top: 0.5rem;
    left: 0.8rem;
  }
}

.navbar-list {
  @apply flex justify-between flex-1 items-center;

  @screen md {
    @apply flex-none;
  }

  .navbar-list-item {
    @apply flex justify-center flex-1;

    @screen md {
      @apply flex-none mr-3;
    }

    a {
      @apply inline-block no-underline py-2 px-4 text-gray-600;

      &:hover {
        @apply text-gray-200 underline;
      }

      &.active {
        @apply text-white;
      }
    }
  }
}

.navbar-dropdown-container {
  @apply relative inline-block;

  .navbar-dropdown-trigger {
    @apply text-white;

    &:focus {
      @apply outline-none;
    }
  }

  .navbar-dropdown {
    @apply absolute bg-red-700 text-white right-0 mt-4 rounded overflow-auto z-30 w-48 shadow-md;

    .navbar-dropdown-item {
      @apply p-2 text-white text-sm no-underline block;

      &:hover {
        @apply bg-red-800 no-underline;
      }
    }

    .navbar-dropdown-divider {
      @apply border border-red-800 m-2;
    }
  }
}

.content-and-sidebar {
  @apply flex flex-col;

  @screen md {
    @apply flex-row;
  }

  aside.sidebar {
    @apply bg-red-600 shadow-lg h-16 fixed bottom-0 z-10 w-full;

    @screen md {
      @apply relative h-screen w-48;
    }

    nav.sidebar-nav {
      @apply content-center text-left justify-between;

      @screen md {
        @apply mt-12 w-48 fixed left-0 top-0 content-start;
      }

      ul.sidebar-nav-list {
        @apply flex flex-row py-0 px-1 text-center;

        @screen md {
          @apply flex-col py-3 px-2 text-left;
        }

        & > li.sidebar-nav-item {
          @apply mr-3 flex-1;

          & > * {
            @apply block py-1 pl-1 align-middle text-white no-underline border-b-2 border-red-800;

            @screen md {
              @apply py-3;
            }

            &:hover {
              @apply text-white border-white bg-red-800 inner-shadow;
            }
          }
        }
      }
    }
  }

  .content {
    @apply flex-1 bg-gray-100 pb-24;

    @screen md {
      @apply pb-5;
    }

    header.header {
      @apply bg-gray-200 p-2 shadow text-xl text-black;

      & > h3 {
        @apply font-bold pl-2;
      }
    }

    main.main {
      @apply p-4 flex flex-wrap;
    }
  }
}
