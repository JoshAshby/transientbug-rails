- if lookup_context.template_exists?("#{ controller_name }/navbar", [], true)
  = render partial: "navbar"

= javascript_pack_tag "application"

.ui.top.fixed.inverted.menu
  = link_to root_path, class: "header item" do
    = image_tag "bug_logo.png", class: "logo"
    transientBug

  - if signed_in?
    = active_link_to "Bookmarks", bookmarks_path, class: "item"

    .app-div{ data: { behavior: "navbar-search" }, style: "display:flex; flex-grow:1;" }

    -#.tb.navbar.search
      .tb.navbar-item
        .tb.header
          .tb.title Earth Rendering
          .tb.query
            %small earth +tag:computers +( created_date:[2014-01-01,2018-06-14] ) -host:wired.com

        .tb.key
          .key-combo
            %kbd.dark /

      .tb.dropdown.hidden
        .tb.content

        .tb.tips
          .left
            .key-combo
              %kbd.dark &#8984;
              +
              %kbd.dark &crarr;
              Search

          .right
            .key-combo
              %kbd.dark ?
              Help

            .key-combo
              %kbd.dark esc
              Close search


  = content_for :navbar

  .right.menu
    - if signed_in?
      .ui.item
        = active_link_to new_bookmark_path, class: "ui inverted green icon button", class_active: "active" do
          %i.bookmark.icon
          new bookmark

    = content_for :navbar_right

    - if signed_in?
      .ui.simple.dropdown.item
        %i.user.circle.outline.icon
        = current_user.username
        %i.dropdown.icon
        .menu
          = link_to "Profile", profile_path, class: "item"
          = link_to "Admin Panel", admin_root_path, class: "item" if current_user.role? :admin
          = link_to "Logout", logout_path, class: "item"

    - else
      = link_to "Login", login_path, class: "item"
