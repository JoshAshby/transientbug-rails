- content_for :page_title do
  Authorize "#{ @pre_auth.client.name }"

%code= @pre_auth.client.application.name
By #{ @pre_auth.client.application.owner.username }
Would like to access your transientBug account

%p
  This application will have access to create, update, delete and view all your stored bookmarks.

- if @pre_auth.scopes.count > 0
  %p This application will be able to:

  %ul
    - @pre_auth.scopes.each do |scope|
      %li= scope

= form_with url: oauth_authorization_path, method: :post do
  = hidden_field_tag :client_id, @pre_auth.client.uid
  = hidden_field_tag :redirect_uri, @pre_auth.redirect_uri
  = hidden_field_tag :state, @pre_auth.state
  = hidden_field_tag :response_type, @pre_auth.response_type
  = hidden_field_tag :scope, @pre_auth.scope
  = submit_tag "Authorize", class: ""

%small
  Authorizing will redirect you back to the application.
  %br
  You can revoke access to this app at anytime from the
  = link_to "authorized apps page", oauth_authorized_applications_url
  in your account settings.

%small
  - if @pre_auth.client.application.official
    %strong Official App.
    This app is owned and operated by the transientBug team.
  - else
    %strong Not Official.
    This app has no affiliation with the transientBug team.

%small
  Created
  %strong= time_ago_in_words(@pre_auth.client.application.created_at)
  ago

%small
  = link_to "https://oauth.net/2/" do
    Learn about OAuth
