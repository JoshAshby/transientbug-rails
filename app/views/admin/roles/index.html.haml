- content_for :page_title, "All Roles"

- content_for :breadcrumbs do
  = link_to "Home", admin_root_url
  = link_to "Roles", admin_roles_url, aria: { current: "page" }

- content_for :page_actions do
  = link_to "New", new_admin_role_url, class: "button button--gray"

- content_for :page_meta do
  .page-header__metadata
    = render "components/feather_icon", icon: "sliders"
    = "#{ @count} Role".pluralize @count
    total

%ul.resource-list
  %li.resource-list__row
    .resource-list__column
      = render "components/checkbox" do
        Select All

    .resource-list__column.w-full

    .resource-list__column.w-full
      = paginate @roles

%ul.resource-list
  - if @roles.any?
    - @roles.each do |role|
      %li.resource-list__row
        .resource-list__column
          = render "components/checkbox"

        .resource-list__column.w-full
          %div( class="text-sm leading-5 font-medium text-gray-900" )
            = role.name

        .resource-list__column.w-full.hidden( class="md:block" )
          .flex
            %strong.mr-1 Permissions:
            = role.permission_keys.length

          .flex
            %strong.mr-1 Created:
            = render "components/time", time: role.created_at

        .resource-list__column
          .button-group
            = link_to admin_role_path(role), class: "button button--gray" do
              = render "components/feather_icon", icon: "maximize"
              View

            .button.button--gray.button--icon.dropdown.dropdown--hoverable
              = behavior_data "dropdown" do |dataset|
                %button.dropdown__trigger{  **dataset }
                  = render "components/feather_icon", icon: "chevron-down"

              .dropdown__container.hidden
                .dropdown__menu
                  .dropdown__row
                    = link_to "Edit", edit_admin_role_path(role), class: "dropdown__link"

  - else
    %li.resource-list__row
      .resource-list__column
        No roles yet (this might be a problem, yo)
